{% extends 'main.html' %}
{% load static %}

{% block title %}
    {% if announcement %}Edit Announcement{% else %}Post Announcement{% endif %}
{% endblock %}

{% block extra_css %}
<style>
    :root {
        --primary-dark: #0a192f;
        --primary-light: #172a45;
        --accent-color: #64ffda;
        --text-primary: #ccd6f6;
        --text-secondary: #8892b0;
    }
    body {
        background-color: var(--primary-dark);
        color: var(--text-primary);
    }
    .form-container {
        background: var(--primary-light);
        padding: 2rem;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        max-width: 700px;
        margin: 2rem auto;
    }
    .form-control {
        background: var(--primary-dark);
        border: 1px solid var(--text-secondary);
        color: var(--text-primary);
    }
    .form-control:focus {
        background: var(--primary-dark);
        color: var(--text-primary);
        border-color: var(--accent-color);
        box-shadow: 0 0 0 0.25rem rgba(100, 255, 218, 0.25);
    }
    .form-label {
        color: var(--text-secondary);
    }
    .btn-futuristic {
        background: transparent;
        color: var(--accent-color);
        border: 1px solid var(--accent-color);
        transition: all 0.3s ease;
    }
    .btn-futuristic:hover {
        background: rgba(100, 255, 218, 0.1);
        color: var(--accent-color);
    }
    .errorlist {
        color: #ff6b6b;
        list-style-type: none;
        padding-left: 0;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="form-container">
        <h2 class="text-center mb-4">
            {% if announcement %}Edit Announcement{% else %}Post a New Announcement{% endif %}
        </h2>
        <form method="post">
            {% csrf_token %}
            {% for field in form %}
                <div class="mb-3">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    {{ field }}
                    {% if field.help_text %}
                        <small class="form-text text-muted">{{ field.help_text }}</small>
                    {% endif %}
                    {% for error in field.errors %}
                        <div class="errorlist">{{ error }}</div>
                    {% endfor %}
                </div>
            {% endfor %}
            <div class="d-grid mt-4">
                <button type="submit" class="btn btn-futuristic">
                    {% if announcement %}Update Announcement{% else %}Publish Announcement{% endif %}
                </button>
            </div>
            <div class="d-grid mt-2">
                <a href="{% url 'faculties:faculty_dashboard_home' %}" class="btn btn-outline-secondary">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}